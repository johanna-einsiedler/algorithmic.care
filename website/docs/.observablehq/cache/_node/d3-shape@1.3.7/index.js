import{path as Z}from"../d3-path@1.0.9/index.js";function x(t){return function(){return t}}var Ct=Math.abs,k=Math.atan2,L=Math.cos,ln=Math.max,yt=Math.min,q=Math.sin,W=Math.sqrt,w=1e-12,B=Math.PI,nt=B/2,I=2*B;function fn(t){return t>1?0:t<-1?B:Math.acos(t)}function qt(t){return t>=1?nt:t<=-1?-nt:Math.asin(t)}function xn(t){return t.innerRadius}function yn(t){return t.outerRadius}function pn(t){return t.startAngle}function vn(t){return t.endAngle}function gn(t){return t&&t.padAngle}function mn(t,n,i,e,h,o,r,s){var a=i-t,u=e-n,_=r-h,c=s-o,l=c*a-_*u;if(!(l*l<w))return l=(_*(n-o)-c*(t-h))/l,[t+l*a,n+l*u]}function it(t,n,i,e,h,o,r){var s=t-i,a=n-e,u=(r?o:-o)/W(s*s+a*a),_=u*a,c=-u*s,l=t+_,v=n+c,y=i+_,m=e+c,p=(l+y)/2,b=(v+m)/2,T=y-l,d=m-v,$=T*T+d*d,M=h-o,N=l*m-y*v,z=(d<0?-1:1)*W(ln(0,M*M*$-N*N)),R=(N*d-T*z)/$,S=(-N*T-d*z)/$,P=(N*d+T*z)/$,C=(-N*T+d*z)/$,f=R-p,g=S-b,Y=P-p,V=C-b;return f*f+g*g>Y*Y+V*V&&(R=P,S=C),{cx:R,cy:S,x01:-_,y01:-c,x11:R*(h/M-1),y11:S*(h/M-1)}}function dn(){var t=xn,n=yn,i=x(0),e=null,h=pn,o=vn,r=gn,s=null;function a(){var u,_,c=+t.apply(this,arguments),l=+n.apply(this,arguments),v=h.apply(this,arguments)-nt,y=o.apply(this,arguments)-nt,m=Ct(y-v),p=y>v;if(s||(s=u=Z()),l<c&&(_=l,l=c,c=_),!(l>w))s.moveTo(0,0);else if(m>I-w)s.moveTo(l*L(v),l*q(v)),s.arc(0,0,l,v,y,!p),c>w&&(s.moveTo(c*L(y),c*q(y)),s.arc(0,0,c,y,v,p));else{var b=v,T=y,d=v,$=y,M=m,N=m,z=r.apply(this,arguments)/2,R=z>w&&(e?+e.apply(this,arguments):W(c*c+l*l)),S=yt(Ct(l-c)/2,+i.apply(this,arguments)),P=S,C=S,f,g;if(R>w){var Y=qt(R/c*q(z)),V=qt(R/l*q(z));(M-=Y*2)>w?(Y*=p?1:-1,d+=Y,$-=Y):(M=0,d=$=(v+y)/2),(N-=V*2)>w?(V*=p?1:-1,b+=V,T-=V):(N=0,b=T=(v+y)/2)}var j=l*L(b),H=l*q(b),D=c*L($),J=c*q($);if(S>w){var K=l*L(T),tt=l*q(T),_t=c*L(d),ut=c*q(d),O;if(m<B&&(O=mn(j,H,_t,ut,K,tt,D,J))){var ct=j-O[0],lt=H-O[1],ft=K-O[0],xt=tt-O[1],At=1/q(fn((ct*ft+lt*xt)/(W(ct*ct+lt*lt)*W(ft*ft+xt*xt)))/2),Pt=W(O[0]*O[0]+O[1]*O[1]);P=yt(S,(c-Pt)/(At-1)),C=yt(S,(l-Pt)/(At+1))}}N>w?C>w?(f=it(_t,ut,j,H,l,C,p),g=it(K,tt,D,J,l,C,p),s.moveTo(f.cx+f.x01,f.cy+f.y01),C<S?s.arc(f.cx,f.cy,C,k(f.y01,f.x01),k(g.y01,g.x01),!p):(s.arc(f.cx,f.cy,C,k(f.y01,f.x01),k(f.y11,f.x11),!p),s.arc(0,0,l,k(f.cy+f.y11,f.cx+f.x11),k(g.cy+g.y11,g.cx+g.x11),!p),s.arc(g.cx,g.cy,C,k(g.y11,g.x11),k(g.y01,g.x01),!p))):(s.moveTo(j,H),s.arc(0,0,l,b,T,!p)):s.moveTo(j,H),!(c>w)||!(M>w)?s.lineTo(D,J):P>w?(f=it(D,J,K,tt,c,-P,p),g=it(j,H,_t,ut,c,-P,p),s.lineTo(f.cx+f.x01,f.cy+f.y01),P<S?s.arc(f.cx,f.cy,P,k(f.y01,f.x01),k(g.y01,g.x01),!p):(s.arc(f.cx,f.cy,P,k(f.y01,f.x01),k(f.y11,f.x11),!p),s.arc(0,0,c,k(f.cy+f.y11,f.cx+f.x11),k(g.cy+g.y11,g.cx+g.x11),p),s.arc(g.cx,g.cy,P,k(g.y11,g.x11),k(g.y01,g.x01),!p))):s.arc(0,0,c,$,d,p)}if(s.closePath(),u)return s=null,u+""||null}return a.centroid=function(){var u=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,_=(+h.apply(this,arguments)+ +o.apply(this,arguments))/2-B/2;return[L(_)*u,q(_)*u]},a.innerRadius=function(u){return arguments.length?(t=typeof u=="function"?u:x(+u),a):t},a.outerRadius=function(u){return arguments.length?(n=typeof u=="function"?u:x(+u),a):n},a.cornerRadius=function(u){return arguments.length?(i=typeof u=="function"?u:x(+u),a):i},a.padRadius=function(u){return arguments.length?(e=u==null?null:typeof u=="function"?u:x(+u),a):e},a.startAngle=function(u){return arguments.length?(h=typeof u=="function"?u:x(+u),a):h},a.endAngle=function(u){return arguments.length?(o=typeof u=="function"?u:x(+u),a):o},a.padAngle=function(u){return arguments.length?(r=typeof u=="function"?u:x(+u),a):r},a.context=function(u){return arguments.length?(s=u??null,a):s},a}function Ot(t){this._context=t}Ot.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}};function et(t){return new Ot(t)}function pt(t){return t[0]}function vt(t){return t[1]}function gt(){var t=pt,n=vt,i=x(!0),e=null,h=et,o=null;function r(s){var a,u=s.length,_,c=!1,l;for(e==null&&(o=h(l=Z())),a=0;a<=u;++a)!(a<u&&i(_=s[a],a,s))===c&&((c=!c)?o.lineStart():o.lineEnd()),c&&o.point(+t(_,a,s),+n(_,a,s));if(l)return o=null,l+""||null}return r.x=function(s){return arguments.length?(t=typeof s=="function"?s:x(+s),r):t},r.y=function(s){return arguments.length?(n=typeof s=="function"?s:x(+s),r):n},r.defined=function(s){return arguments.length?(i=typeof s=="function"?s:x(!!s),r):i},r.curve=function(s){return arguments.length?(h=s,e!=null&&(o=h(e)),r):h},r.context=function(s){return arguments.length?(s==null?e=o=null:o=h(e=s),r):e},r}function zt(){var t=pt,n=null,i=x(0),e=vt,h=x(!0),o=null,r=et,s=null;function a(_){var c,l,v,y=_.length,m,p=!1,b,T=new Array(y),d=new Array(y);for(o==null&&(s=r(b=Z())),c=0;c<=y;++c){if(!(c<y&&h(m=_[c],c,_))===p)if(p=!p)l=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=c-1;v>=l;--v)s.point(T[v],d[v]);s.lineEnd(),s.areaEnd()}p&&(T[c]=+t(m,c,_),d[c]=+i(m,c,_),s.point(n?+n(m,c,_):T[c],e?+e(m,c,_):d[c]))}if(b)return s=null,b+""||null}function u(){return gt().defined(h).curve(r).context(o)}return a.x=function(_){return arguments.length?(t=typeof _=="function"?_:x(+_),n=null,a):t},a.x0=function(_){return arguments.length?(t=typeof _=="function"?_:x(+_),a):t},a.x1=function(_){return arguments.length?(n=_==null?null:typeof _=="function"?_:x(+_),a):n},a.y=function(_){return arguments.length?(i=typeof _=="function"?_:x(+_),e=null,a):i},a.y0=function(_){return arguments.length?(i=typeof _=="function"?_:x(+_),a):i},a.y1=function(_){return arguments.length?(e=_==null?null:typeof _=="function"?_:x(+_),a):e},a.lineX0=a.lineY0=function(){return u().x(t).y(i)},a.lineY1=function(){return u().x(t).y(e)},a.lineX1=function(){return u().x(n).y(i)},a.defined=function(_){return arguments.length?(h=typeof _=="function"?_:x(!!_),a):h},a.curve=function(_){return arguments.length?(r=_,o!=null&&(s=r(o)),a):r},a.context=function(_){return arguments.length?(_==null?o=s=null:s=r(o=_),a):o},a}function Tn(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function bn(t){return t}function $n(){var t=bn,n=Tn,i=null,e=x(0),h=x(I),o=x(0);function r(s){var a,u=s.length,_,c,l=0,v=new Array(u),y=new Array(u),m=+e.apply(this,arguments),p=Math.min(I,Math.max(-I,h.apply(this,arguments)-m)),b,T=Math.min(Math.abs(p)/u,o.apply(this,arguments)),d=T*(p<0?-1:1),$;for(a=0;a<u;++a)($=y[v[a]=a]=+t(s[a],a,s))>0&&(l+=$);for(n!=null?v.sort(function(M,N){return n(y[M],y[N])}):i!=null&&v.sort(function(M,N){return i(s[M],s[N])}),a=0,c=l?(p-u*d)/l:0;a<u;++a,m=b)_=v[a],$=y[_],b=m+($>0?$*c:0)+d,y[_]={data:s[_],index:a,value:$,startAngle:m,endAngle:b,padAngle:T};return y}return r.value=function(s){return arguments.length?(t=typeof s=="function"?s:x(+s),r):t},r.sortValues=function(s){return arguments.length?(n=s,i=null,r):n},r.sort=function(s){return arguments.length?(i=s,n=null,r):i},r.startAngle=function(s){return arguments.length?(e=typeof s=="function"?s:x(+s),r):e},r.endAngle=function(s){return arguments.length?(h=typeof s=="function"?s:x(+s),r):h},r.padAngle=function(s){return arguments.length?(o=typeof s=="function"?s:x(+s),r):o},r}var Rt=mt(et);function Bt(t){this._curve=t}Bt.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};function mt(t){function n(i){return new Bt(t(i))}return n._curve=t,n}function Q(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(i){return arguments.length?n(mt(i)):n()._curve},t}function It(){return Q(gt().curve(Rt))}function Xt(){var t=zt().curve(Rt),n=t.curve,i=t.lineX0,e=t.lineX1,h=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Q(i())},delete t.lineX0,t.lineEndAngle=function(){return Q(e())},delete t.lineX1,t.lineInnerRadius=function(){return Q(h())},delete t.lineY0,t.lineOuterRadius=function(){return Q(o())},delete t.lineY1,t.curve=function(r){return arguments.length?n(mt(r)):n()._curve},t}function U(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]}var dt=Array.prototype.slice;function kn(t){return t.source}function wn(t){return t.target}function Tt(t){var n=kn,i=wn,e=pt,h=vt,o=null;function r(){var s,a=dt.call(arguments),u=n.apply(this,a),_=i.apply(this,a);if(o||(o=s=Z()),t(o,+e.apply(this,(a[0]=u,a)),+h.apply(this,a),+e.apply(this,(a[0]=_,a)),+h.apply(this,a)),s)return o=null,s+""||null}return r.source=function(s){return arguments.length?(n=s,r):n},r.target=function(s){return arguments.length?(i=s,r):i},r.x=function(s){return arguments.length?(e=typeof s=="function"?s:x(+s),r):e},r.y=function(s){return arguments.length?(h=typeof s=="function"?s:x(+s),r):h},r.context=function(s){return arguments.length?(o=s??null,r):o},r}function Nn(t,n,i,e,h){t.moveTo(n,i),t.bezierCurveTo(n=(n+e)/2,i,n,h,e,h)}function Mn(t,n,i,e,h){t.moveTo(n,i),t.bezierCurveTo(n,i=(i+h)/2,e,i,e,h)}function Sn(t,n,i,e,h){var o=U(n,i),r=U(n,i=(i+h)/2),s=U(e,i),a=U(e,h);t.moveTo(o[0],o[1]),t.bezierCurveTo(r[0],r[1],s[0],s[1],a[0],a[1])}function En(){return Tt(Nn)}function An(){return Tt(Mn)}function Pn(){var t=Tt(Sn);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}var bt={draw:function(t,n){var i=Math.sqrt(n/B);t.moveTo(i,0),t.arc(0,0,i,0,I)}},Yt={draw:function(t,n){var i=Math.sqrt(n/5)/2;t.moveTo(-3*i,-i),t.lineTo(-i,-i),t.lineTo(-i,-3*i),t.lineTo(i,-3*i),t.lineTo(i,-i),t.lineTo(3*i,-i),t.lineTo(3*i,i),t.lineTo(i,i),t.lineTo(i,3*i),t.lineTo(-i,3*i),t.lineTo(-i,i),t.lineTo(-3*i,i),t.closePath()}},Vt=Math.sqrt(.3333333333333333),Cn=Vt*2,Lt={draw:function(t,n){var i=Math.sqrt(n/Cn),e=i*Vt;t.moveTo(0,-i),t.lineTo(e,0),t.lineTo(0,i),t.lineTo(-e,0),t.closePath()}},qn=.8908130915292852,jt=Math.sin(B/10)/Math.sin(7*B/10),On=Math.sin(I/10)*jt,zn=-Math.cos(I/10)*jt,Ht={draw:function(t,n){var i=Math.sqrt(n*qn),e=On*i,h=zn*i;t.moveTo(0,-i),t.lineTo(e,h);for(var o=1;o<5;++o){var r=I*o/5,s=Math.cos(r),a=Math.sin(r);t.lineTo(a*i,-s*i),t.lineTo(s*e-a*h,a*e+s*h)}t.closePath()}},Wt={draw:function(t,n){var i=Math.sqrt(n),e=-i/2;t.rect(e,e,i,i)}},$t=Math.sqrt(3),Ft={draw:function(t,n){var i=-Math.sqrt(n/($t*3));t.moveTo(0,i*2),t.lineTo(-$t*i,-i),t.lineTo($t*i,-i),t.closePath()}},E=-.5,A=Math.sqrt(3)/2,kt=1/Math.sqrt(12),Rn=(kt/2+1)*3,Gt={draw:function(t,n){var i=Math.sqrt(n/Rn),e=i/2,h=i*kt,o=e,r=i*kt+i,s=-o,a=r;t.moveTo(e,h),t.lineTo(o,r),t.lineTo(s,a),t.lineTo(E*e-A*h,A*e+E*h),t.lineTo(E*o-A*r,A*o+E*r),t.lineTo(E*s-A*a,A*s+E*a),t.lineTo(E*e+A*h,E*h-A*e),t.lineTo(E*o+A*r,E*r-A*o),t.lineTo(E*s+A*a,E*a-A*s),t.closePath()}},Bn=[bt,Yt,Lt,Wt,Ht,Ft,Gt];function In(){var t=x(bt),n=x(64),i=null;function e(){var h;if(i||(i=h=Z()),t.apply(this,arguments).draw(i,+n.apply(this,arguments)),h)return i=null,h+""||null}return e.type=function(h){return arguments.length?(t=typeof h=="function"?h:x(h),e):t},e.size=function(h){return arguments.length?(n=typeof h=="function"?h:x(+h),e):n},e.context=function(h){return arguments.length?(i=h??null,e):i},e}function X(){}function st(t,n,i){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+i)/6)}function ht(t){this._context=t}ht.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:st(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:st(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function Xn(t){return new ht(t)}function Zt(t){this._context=t}Zt.prototype={areaStart:X,areaEnd:X,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:st(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function Yn(t){return new Zt(t)}function Qt(t){this._context=t}Qt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var i=(this._x0+4*this._x1+t)/6,e=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(i,e):this._context.moveTo(i,e);break;case 3:this._point=4;default:st(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function Vn(t){return new Qt(t)}function Ut(t,n){this._basis=new ht(t),this._beta=n}Ut.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,i=t.length-1;if(i>0)for(var e=t[0],h=n[0],o=t[i]-e,r=n[i]-h,s=-1,a;++s<=i;)a=s/i,this._basis.point(this._beta*t[s]+(1-this._beta)*(e+a*o),this._beta*n[s]+(1-this._beta)*(h+a*r));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var Ln=function t(n){function i(e){return n===1?new ht(e):new Ut(e,n)}return i.beta=function(e){return t(+e)},i}(.85);function ot(t,n,i){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-i),t._x2,t._y2)}function wt(t,n){this._context=t,this._k=(1-n)/6}wt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ot(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:ot(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var jn=function t(n){function i(e){return new wt(e,n)}return i.tension=function(e){return t(+e)},i}(0);function Nt(t,n){this._context=t,this._k=(1-n)/6}Nt.prototype={areaStart:X,areaEnd:X,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:ot(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Hn=function t(n){function i(e){return new Nt(e,n)}return i.tension=function(e){return t(+e)},i}(0);function Mt(t,n){this._context=t,this._k=(1-n)/6}Mt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ot(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Wn=function t(n){function i(e){return new Mt(e,n)}return i.tension=function(e){return t(+e)},i}(0);function St(t,n,i){var e=t._x1,h=t._y1,o=t._x2,r=t._y2;if(t._l01_a>w){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,a=3*t._l01_a*(t._l01_a+t._l12_a);e=(e*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/a,h=(h*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/a}if(t._l23_a>w){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,_=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*u+t._x1*t._l23_2a-n*t._l12_2a)/_,r=(r*u+t._y1*t._l23_2a-i*t._l12_2a)/_}t._context.bezierCurveTo(e,h,o,r,t._x2,t._y2)}function Dt(t,n){this._context=t,this._alpha=n}Dt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var i=this._x2-t,e=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+e*e,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:St(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Fn=function t(n){function i(e){return n?new Dt(e,n):new wt(e,0)}return i.alpha=function(e){return t(+e)},i}(.5);function Jt(t,n){this._context=t,this._alpha=n}Jt.prototype={areaStart:X,areaEnd:X,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,n){if(t=+t,n=+n,this._point){var i=this._x2-t,e=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+e*e,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:St(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Gn=function t(n){function i(e){return n?new Jt(e,n):new Nt(e,0)}return i.alpha=function(e){return t(+e)},i}(.5);function Kt(t,n){this._context=t,this._alpha=n}Kt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var i=this._x2-t,e=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+e*e,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:St(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Zn=function t(n){function i(e){return n?new Kt(e,n):new Mt(e,0)}return i.alpha=function(e){return t(+e)},i}(.5);function tn(t){this._context=t}tn.prototype={areaStart:X,areaEnd:X,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}};function Qn(t){return new tn(t)}function nn(t){return t<0?-1:1}function en(t,n,i){var e=t._x1-t._x0,h=n-t._x1,o=(t._y1-t._y0)/(e||h<0&&-0),r=(i-t._y1)/(h||e<0&&-0),s=(o*h+r*e)/(e+h);return(nn(o)+nn(r))*Math.min(Math.abs(o),Math.abs(r),.5*Math.abs(s))||0}function sn(t,n){var i=t._x1-t._x0;return i?(3*(t._y1-t._y0)/i-n)/2:n}function Et(t,n,i){var e=t._x0,h=t._y0,o=t._x1,r=t._y1,s=(o-e)/3;t._context.bezierCurveTo(e+s,h+s*n,o-s,r-s*i,o,r)}function rt(t){this._context=t}rt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Et(this,this._t0,sn(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var i=NaN;if(t=+t,n=+n,!(t===this._x1&&n===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,Et(this,sn(this,i=en(this,t,n)),i);break;default:Et(this,this._t0,i=en(this,t,n));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=i}}};function hn(t){this._context=new on(t)}(hn.prototype=Object.create(rt.prototype)).point=function(t,n){rt.prototype.point.call(this,n,t)};function on(t){this._context=t}on.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,i,e,h,o){this._context.bezierCurveTo(n,t,e,i,o,h)}};function Un(t){return new rt(t)}function Dn(t){return new hn(t)}function rn(t){this._context=t}rn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,i=t.length;if(i)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),i===2)this._context.lineTo(t[1],n[1]);else for(var e=an(t),h=an(n),o=0,r=1;r<i;++o,++r)this._context.bezierCurveTo(e[0][o],h[0][o],e[1][o],h[1][o],t[r],n[r]);(this._line||this._line!==0&&i===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}};function an(t){var n,i=t.length-1,e,h=new Array(i),o=new Array(i),r=new Array(i);for(h[0]=0,o[0]=2,r[0]=t[0]+2*t[1],n=1;n<i-1;++n)h[n]=1,o[n]=4,r[n]=4*t[n]+2*t[n+1];for(h[i-1]=2,o[i-1]=7,r[i-1]=8*t[i-1]+t[i],n=1;n<i;++n)e=h[n]/o[n-1],o[n]-=e,r[n]-=e*r[n-1];for(h[i-1]=r[i-1]/o[i-1],n=i-2;n>=0;--n)h[n]=(r[n]-h[n+1])/o[n];for(o[i-1]=(t[i]+h[i-1])/2,n=0;n<i-1;++n)o[n]=2*t[n+1]-h[n+1];return[h,o]}function Jn(t){return new rn(t)}function at(t,n){this._context=t,this._t=n}at.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var i=this._x*(1-this._t)+t*this._t;this._context.lineTo(i,this._y),this._context.lineTo(i,n)}break}}this._x=t,this._y=n}};function Kn(t){return new at(t,.5)}function ti(t){return new at(t,0)}function ni(t){return new at(t,1)}function F(t,n){if((r=t.length)>1)for(var i=1,e,h,o=t[n[0]],r,s=o.length;i<r;++i)for(h=o,o=t[n[i]],e=0;e<s;++e)o[e][1]+=o[e][0]=isNaN(h[e][1])?h[e][0]:h[e][1]}function G(t){for(var n=t.length,i=new Array(n);--n>=0;)i[n]=n;return i}function ii(t,n){return t[n]}function ei(){var t=x([]),n=G,i=F,e=ii;function h(o){var r=t.apply(this,arguments),s,a=o.length,u=r.length,_=new Array(u),c;for(s=0;s<u;++s){for(var l=r[s],v=_[s]=new Array(a),y=0,m;y<a;++y)v[y]=m=[0,+e(o[y],l,y,o)],m.data=o[y];v.key=l}for(s=0,c=n(_);s<u;++s)_[c[s]].index=s;return i(_,c),_}return h.keys=function(o){return arguments.length?(t=typeof o=="function"?o:x(dt.call(o)),h):t},h.value=function(o){return arguments.length?(e=typeof o=="function"?o:x(+o),h):e},h.order=function(o){return arguments.length?(n=o==null?G:typeof o=="function"?o:x(dt.call(o)),h):n},h.offset=function(o){return arguments.length?(i=o??F,h):i},h}function si(t,n){if((e=t.length)>0){for(var i,e,h=0,o=t[0].length,r;h<o;++h){for(r=i=0;i<e;++i)r+=t[i][h][1]||0;if(r)for(i=0;i<e;++i)t[i][h][1]/=r}F(t,n)}}function hi(t,n){if((a=t.length)>0)for(var i,e=0,h,o,r,s,a,u=t[n[0]].length;e<u;++e)for(r=s=0,i=0;i<a;++i)(o=(h=t[n[i]][e])[1]-h[0])>0?(h[0]=r,h[1]=r+=o):o<0?(h[1]=s,h[0]=s+=o):(h[0]=0,h[1]=o)}function oi(t,n){if((h=t.length)>0){for(var i=0,e=t[n[0]],h,o=e.length;i<o;++i){for(var r=0,s=0;r<h;++r)s+=t[r][i][1]||0;e[i][1]+=e[i][0]=-s/2}F(t,n)}}function ri(t,n){if(!(!((r=t.length)>0)||!((o=(h=t[n[0]]).length)>0))){for(var i=0,e=1,h,o,r;e<o;++e){for(var s=0,a=0,u=0;s<r;++s){for(var _=t[n[s]],c=_[e][1]||0,l=_[e-1][1]||0,v=(c-l)/2,y=0;y<s;++y){var m=t[n[y]],p=m[e][1]||0,b=m[e-1][1]||0;v+=p-b}a+=c,u+=v*c}h[e-1][1]+=h[e-1][0]=i,a&&(i-=u/a)}h[e-1][1]+=h[e-1][0]=i,F(t,n)}}function _n(t){var n=t.map(ai);return G(t).sort(function(i,e){return n[i]-n[e]})}function ai(t){for(var n=-1,i=0,e=t.length,h,o=-1/0;++n<e;)(h=+t[n][1])>o&&(o=h,i=n);return i}function un(t){var n=t.map(cn);return G(t).sort(function(i,e){return n[i]-n[e]})}function cn(t){for(var n=0,i=-1,e=t.length,h;++i<e;)(h=+t[i][1])&&(n+=h);return n}function _i(t){return un(t).reverse()}function ui(t){var n=t.length,i,e,h=t.map(cn),o=_n(t),r=0,s=0,a=[],u=[];for(i=0;i<n;++i)e=o[i],r<s?(r+=h[e],a.push(e)):(s+=h[e],u.push(e));return u.reverse().concat(a)}function ci(t){return G(t).reverse()}export{dn as arc,zt as area,Xt as areaRadial,Xn as curveBasis,Yn as curveBasisClosed,Vn as curveBasisOpen,Ln as curveBundle,jn as curveCardinal,Hn as curveCardinalClosed,Wn as curveCardinalOpen,Fn as curveCatmullRom,Gn as curveCatmullRomClosed,Zn as curveCatmullRomOpen,et as curveLinear,Qn as curveLinearClosed,Un as curveMonotoneX,Dn as curveMonotoneY,Jn as curveNatural,Kn as curveStep,ni as curveStepAfter,ti as curveStepBefore,gt as line,It as lineRadial,En as linkHorizontal,Pn as linkRadial,An as linkVertical,$n as pie,U as pointRadial,Xt as radialArea,It as radialLine,ei as stack,hi as stackOffsetDiverging,si as stackOffsetExpand,F as stackOffsetNone,oi as stackOffsetSilhouette,ri as stackOffsetWiggle,_n as stackOrderAppearance,un as stackOrderAscending,_i as stackOrderDescending,ui as stackOrderInsideOut,G as stackOrderNone,ci as stackOrderReverse,In as symbol,bt as symbolCircle,Yt as symbolCross,Lt as symbolDiamond,Wt as symbolSquare,Ht as symbolStar,Ft as symbolTriangle,Gt as symbolWye,Bn as symbols};
